# æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã§ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹æ–¹æ³•

## ğŸ” ç¾åœ¨ã®çŠ¶æ³

æ–°ã—ã„UIDã§ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼š
- **UID**: `166d3617-5f9b-4055-9149-32e13e7ca58a`
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å**: `admin@admin`

## ğŸ› ï¸ è§£æ±ºæ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š

Supabaseã®SQL Editorã§ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š

```sql
-- supabase/FIX_NEW_ADMIN.sql ã®å†…å®¹ã‚’å®Ÿè¡Œ
```

ã¾ãŸã¯ã€ç›´æ¥å®Ÿè¡Œï¼š

```sql
-- æ–°ã—ã„ç®¡ç†è€…ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: admin123ï¼‰
UPDATE system_admins 
SET 
  password_hash = '$2a$10$TfL2YgEWStCa.70GOP75Se2cAq24kzyP6vMBgycEnxgDs/D8cx8l.',
  updated_at = NOW()
WHERE id = '166d3617-5f9b-4055-9149-32e13e7ca58a';

-- ç¢ºèª
SELECT 
  username, 
  LEFT(password_hash, 30) || '...' AS hash_preview,
  LENGTH(password_hash) AS hash_length
FROM system_admins 
WHERE id = '166d3617-5f9b-4055-9149-32e13e7ca58a';
```

### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’ç¢ºèª

- **URL**: `/system-admin/login`
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å**: `admin@admin`ï¼ˆ**æ­£ç¢ºã«**ï¼‰
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**: `admin123`

### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ­ã‚°ã‚¤ãƒ³ã‚’è©¦ã™

1. `/system-admin/login` ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ¦ãƒ¼ã‚¶ãƒ¼åã« `admin@admin` ã‚’å…¥åŠ›
3. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã« `admin123` ã‚’å…¥åŠ›
4. ã€Œãƒ­ã‚°ã‚¤ãƒ³ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

## ğŸ” ç¢ºèªæ–¹æ³•

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®çŠ¶æ…‹ã‚’ç¢ºèª

```sql
SELECT 
  id,
  username, 
  name,
  email,
  LENGTH(password_hash) AS hash_length,
  LEFT(password_hash, 30) AS hash_start
FROM system_admins 
WHERE id = '166d3617-5f9b-4055-9149-32e13e7ca58a';
```

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
- `username`: `admin@admin`
- `hash_length`: `60`
- `hash_start`: `$2a$10$TfL2YgEWStCa.70GOP75Se`

## âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …

### ãƒ¦ãƒ¼ã‚¶ãƒ¼åãŒ `admin@admin` ã®å ´åˆ

ãƒ­ã‚°ã‚¤ãƒ³APIã¯ `username` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§æ¤œç´¢ã—ã¦ã„ã‚‹ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åãŒ `admin@admin` ã®å ´åˆã¯ã€ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã« `admin@admin` ã‚’å…¥åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’ `admin` ã«å¤‰æ›´ã—ãŸã„å ´åˆ

```sql
UPDATE system_admins 
SET username = 'admin'
WHERE id = '166d3617-5f9b-4055-9149-32e13e7ca58a';
```

å¤‰æ›´å¾Œã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å `admin` ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã¾ã™ã€‚

## âœ… ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥ãŒè¨­å®šã•ã‚ŒãŸï¼ˆ`FIX_NEW_ADMIN.sql` ã‚’å®Ÿè¡Œï¼‰
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥ã®é•·ã•ãŒ60æ–‡å­—ã§ã‚ã‚‹
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥ãŒ `$2a$10$...` ã§å§‹ã¾ã‚‹
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼åãŒ `admin@admin` ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã« `admin@admin` ã‚’å…¥åŠ›ã™ã‚‹

## ğŸ†˜ ãã‚Œã§ã‚‚è§£æ±ºã—ãªã„å ´åˆ

### 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’ç¢ºèª

```sql
SELECT username FROM system_admins WHERE id = '166d3617-5f9b-4055-9149-32e13e7ca58a';
```

### 2. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥ã‚’ç¢ºèª

```sql
SELECT 
  LENGTH(password_hash) AS len,
  LEFT(password_hash, 30) AS preview
FROM system_admins 
WHERE id = '166d3617-5f9b-4055-9149-32e13e7ca58a';
```

### 3. ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª

1. ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ãï¼ˆF12ï¼‰
2. ã€ŒConsoleã€ã‚¿ãƒ–ã‚’é–‹ã
3. ãƒ­ã‚°ã‚¤ãƒ³ã‚’è©¦ã¿ã‚‹
4. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª

