# 修正版セットアップ手順

## 現在の状況

- ✅ データディレクトリ作成済み
- ✅ PostgreSQL 18インストール済み
- ✅ 環境変数をPostgreSQL用に設定済み
- ⚠️ PostgreSQLサービスが起動していない可能性

## 次のステップ

### 1. PostgreSQLサービスを起動

#### 方法A: サービスから起動（推奨）

1. **Windowsキー + R** を押す
2. `services.msc` と入力してEnter
3. サービス一覧で「**postgresql**」で始まるサービスを探す
   - 例: `postgresql-x64-18`
4. 右クリック → 「**開始**」を選択

#### 方法B: PowerShellで起動（管理者権限が必要）

```powershell
# サービス名を確認
Get-Service | Where-Object { $_.Name -like "*postgres*" }

# サービスを起動（サービス名を実際の名前に置き換えてください）
Start-Service -Name "postgresql-x64-18"
```

### 2. データベースを作成

サービスが起動したら、データベースを作成します：

```powershell
$psqlPath = "C:\Program Files\PostgreSQL\18\bin\psql.exe"
& $psqlPath -U postgres -c "CREATE DATABASE pic_cul;"
```

パスワードを求められたら、PostgreSQLインストール時に設定したパスワードを入力してください。

**パスワードが`postgres`でない場合**は、`.env`ファイルの`DATABASE_URL`を修正してください：

```env
DATABASE_URL=postgresql://postgres:あなたのパスワード@localhost:5432/pic_cul
```

### 3. マイグレーション実行

```powershell
cd C:\Users\ngf005148\Desktop\webapps\Pic_cul\backend
npm run db:migrate
npm run db:seed
```

### 4. 開発サーバー起動

```powershell
cd ..
npm run dev
```

## トラブルシューティング

### PostgreSQLサービスが見つからない場合

PostgreSQLがインストールされているがサービスが登録されていない可能性があります。

1. PostgreSQLのインストールを確認
2. 必要に応じてPostgreSQLを再インストール

### パスワードがわからない場合

PostgreSQLのパスワードをリセットするか、新しくインストールする必要があります。

### SQLiteを使用したい場合

Visual Studio Build Toolsをインストールする必要があります：
- https://visualstudio.microsoft.com/downloads/
- 「Build Tools for Visual Studio」をダウンロード
- 「C++によるデスクトップ開発」を選択してインストール











