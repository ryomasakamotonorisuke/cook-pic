# 最も簡単なセットアップ方法

pgAdminがない場合、以下の方法から選んでください。

## 方法1: PostgreSQLをインストール（推奨・最も確実）

PostgreSQLをインストールすると、pgAdminも一緒にインストールされます。

### ステップ1: PostgreSQLをダウンロード

1. ブラウザで以下にアクセス：
   ```
   https://www.postgresql.org/download/windows/
   ```
2. 「Download the installer」をクリック
3. 「PostgreSQL 16.x」または最新版をダウンロード

### ステップ2: インストール

1. ダウンロードしたインストーラーを実行
2. 「Next」をクリック
3. インストール先を選択（デフォルトでOK）
4. **重要**: 「pgAdmin 4」にチェックが入っていることを確認
5. コンポーネント選択（すべて選択でOK）
6. データディレクトリを選択（デフォルトでOK）

### ステップ3: パスワード設定

**重要**: `postgres`ユーザーのパスワードを設定してください
- 例: `postgres` または `password123`
- このパスワードは後で使用します

### ステップ4: ポート設定

- デフォルトポート: `5432`（変更不要）

### ステップ5: インストール完了

- 「Finish」をクリック
- 「Stack Builder」はスキップしてOK

### ステップ6: pgAdminでデータベースを作成

1. スタートメニューから「pgAdmin 4」を起動
2. 左側のツリーで「Databases」を右クリック
3. 「Create」→「Database...」を選択
4. Database name: `pic_cul` と入力
5. 「Save」をクリック

### ステップ7: 環境変数を設定

`backend/.env`ファイルを編集：

```env
DB_TYPE=postgres
DATABASE_URL=postgresql://postgres:あなたのパスワード@localhost:5432/pic_cul
STORAGE_TYPE=local
PORT=3001
JWT_SECRET=dev-secret-key-change-this-in-production
NODE_ENV=development
```

**重要**: `あなたのパスワード`の部分を、ステップ3で設定したパスワードに置き換えてください。

### ステップ8: マイグレーション実行

```powershell
cd C:\Users\ngf005148\Desktop\webapps\Pic_cul\backend
npm run db:migrate
npm run db:seed
```

### ステップ9: 開発サーバー起動

```powershell
cd ..
npm run dev
```

---

## 方法2: SQLiteを使用（PostgreSQL不要）

PostgreSQLをインストールしたくない場合、SQLiteを使用できます。

### ステップ1: Visual Studio Build Toolsをインストール

SQLiteを使用するには、Visual Studio Build Toolsが必要です。

1. ブラウザで以下にアクセス：
   ```
   https://visualstudio.microsoft.com/downloads/
   ```
2. ページを下にスクロール
3. 「Tools for Visual Studio」セクションで「Build Tools for Visual Studio」をクリック
4. ダウンロードしたインストーラーを実行
5. **重要**: 「C++によるデスクトップ開発」にチェックを入れる
6. インストール（数分かかります）
7. インストール後、**PowerShellを再起動**

### ステップ2: 環境変数を設定

`backend/.env`ファイルを編集：

```env
DB_TYPE=sqlite
DATABASE_URL=./data/pic_cul.db
STORAGE_TYPE=local
PORT=3001
JWT_SECRET=dev-secret-key-change-this-in-production
NODE_ENV=development
```

### ステップ3: データディレクトリを作成

```powershell
cd C:\Users\ngf005148\Desktop\webapps\Pic_cul\backend
mkdir data
```

### ステップ4: 依存関係をインストール

```powershell
npm install
```

### ステップ5: マイグレーション実行

```powershell
npm run db:migrate
npm run db:seed
```

### ステップ6: 開発サーバー起動

```powershell
cd ..
npm run dev
```

---

## どちらの方法を選ぶべきか？

### PostgreSQLを選ぶ場合
- ✅ 本番環境と同じデータベースを使用できる
- ✅ pgAdminという便利なGUIツールが使える
- ❌ インストールに時間がかかる（10-15分）

### SQLiteを選ぶ場合
- ✅ 軽量で高速
- ✅ PostgreSQLのインストールが不要
- ❌ Visual Studio Build Toolsのインストールが必要（10-20分）
- ❌ 本番環境ではPostgreSQLを使用する必要がある

## 推奨

**初心者の方**: 方法1（PostgreSQL）を推奨します
- pgAdminというGUIツールがあるので、データベースの操作が簡単です
- 本番環境と同じ環境で開発できます

**開発をすぐに始めたい方**: 方法2（SQLite）を推奨します
- PostgreSQLのインストールが不要です
- ただし、Visual Studio Build Toolsのインストールが必要です












